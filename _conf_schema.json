{
  "enable_group_learning": {
    "description": "是否开启群聊旁听学习。开启后，Bot 将会分析群聊中非直接对话并提取记忆。",
    "type": "bool",
    "default": true
  },
  "learning_model_id": {
    "description": "用于记忆提取的专用 LLM 模型 ID。留空则使用当前会话的模型。建议使用便宜且指令遵循能力强的模型。",
    "type": "string",
    "default": "",
    "_special": "select_provider"
  },
  "confidence_threshold": {
    "description": "记忆采纳的置信度阈值 (0.0 - 1.0)。低于此置信度的关系将被丢弃。",
    "type": "float",
    "default": 0.6
  },
  "enable_persona_isolation": {
    "description": "是否默认开启人格记忆隔离。开启后，不同人格的记忆相互独立。",
    "type": "bool",
    "default": true
  },
  "persona_isolation_exceptions": {
    "description": "人格隔离例外列表。如果开启了默认隔离，此列表中的会话将共享记忆（不隔离）；如果关闭了默认隔离，此列表中的会话将开启隔离。填写 unified_msg_origin。",
    "type": "list",
    "items": {
        "type": "string"
    },
    "default": []
  },
  "keyword_extraction_mode": {
    "description": "记忆检索的关键词提取模式。local: 使用本地算法(jieba)提取，速度快且免费；llm: 使用 LLM 提取，更智能但有成本。",
    "type": "string",
    "options": ["local", "llm"],
    "default": "local"
  },
  "keyword_extraction_provider": {
    "description": "如果关键词提取模式为 llm，指定使用的模型 ID。留空则复用 learning_model_id 或当前会话模型。",
    "type": "string",
    "default": "",
    "_special": "select_provider"
  },
  "max_global_nodes": {
    "description": "全局最大节点数限制。当节点总数超过此值时，会触发清理机制，删除最旧且不重要的节点。",
    "type": "int",
    "default": 5000
  },
  "prune_interval": {
    "description": "记忆清理检查间隔（秒）。",
    "type": "int",
    "default": 3600
  },
  "webui_host": {
    "description": "WebUI 监听地址",
    "type": "string",
    "default": "0.0.0.0"
  },
  "webui_port": {
    "description": "WebUI 监听端口",
    "type": "int",
    "default": 8081
  },
  "webui_key": {
    "description": "WebUI 访问密钥。留空则在启动时随机生成。",
    "type": "string",
    "default": ""
  }
}